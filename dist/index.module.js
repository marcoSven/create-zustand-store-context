import{createContext as r,useRef as t,useContext as e,useCallback as n}from"react";import{createStore as u,useStore as i}from"zustand";import{persist as a}from"zustand/middleware";import{shallow as o}from"zustand/shallow";function f(){return f=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},f.apply(this,arguments)}var c=["migrate","partialize"],l="DEFAULT_ZUSTAND_STORE_Value";function s(s){var v,p=s.defaultState,d=s.localStorage,m=s.name,g=d?function(r){var t=d.migrate,e=d.partialize,n=function(r,t){if(null==r)return{};var e,n,u={},i=Object.keys(r);for(n=0;n<i.length;n++)t.indexOf(e=i[n])>=0||(u[e]=r[e]);return u}(d,c),i=u()(a(function(){return r},f({},n,{migrate:t?function(e,n){return"object"==typeof(u=e)&&null!==u&&!Array.isArray(u)&&Object.keys(u).every(function(r){return"string"==typeof r})?function(t){return function(t){for(var e={},n=0,u=Object.keys(t);n<u.length;n++)e[u[n]]=1;for(var i=0,a=Object.keys(d&&(null==d.partialize?void 0:d.partialize(r))||r);i<a.length;i++){var o=a[i];if(!e[o])return!1;e[o]=2}for(var f in e)if(1===e[f])return!1;return!0}(t)?t:r}(t(e,n)):r;var u}:void 0,partialize:e||function(r){return r}})));return d.force&&i.setState(r),i}:function(r){return u(function(){return r})},y=g(f({},p,((v={})[l]=!0,v))),S=r(y);return{storeContext:S,useState:function(r){var t=e(S);if(void 0===t||t.getState()[l])throw new Error((m?m+": ":"")+"useState must be used within a provider");var u=i(t,null!=r?r:function(){return{}},o);return f({},t,u,{setState:n(function(r){return t.setState(function(t){return f({},t,r)})},[t])})},useStore:function(r,e){void 0===e&&(e={});var n=t(r),u=t();return u.current&&n.current===r||(u.current=g(f({},p,e)),n.current=r),u.current}}}export{s as createZustandStoreContext};
//# sourceMappingURL=index.module.js.map
