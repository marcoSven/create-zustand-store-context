import{createContext as t,useRef as e,useContext as r,useCallback as n}from"react";import{createStore as o,useStore as a}from"zustand";import{persist as u}from"zustand/middleware";import{shallow as s}from"zustand/shallow";function i(){return i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i.apply(this,arguments)}const c="DEFAULT_ZUSTAND_STORE_Value";function l({defaultState:l,localStorage:f,name:p}){const S=f?t=>{const e=o()(u(()=>t,i({},f,{partialize:f.partialize||(t=>(delete t.DEFAULT_ZUSTAND_STORE_Value,t))})));return f.force&&e.setState(t),e}:t=>o(()=>t),d=S(i({},l,{[c]:!0})),m=t(d);return{storeContext:m,useState:function(t){const e=r(m);if(void 0===e||e.getState()[c])throw new Error((p?p+": ":"")+"useState must be used within a provider");const o=a(e,null!=t?t:()=>({}),s);return i({},e,o,{setState:n(t=>e.setState(e=>i({},e,t)),[e])})},useStore:(t,r={})=>{const n=e(t),o=e();return o.current&&n.current===t||(o.current=S(i({},l,r)),n.current=t),o.current}}}export{l as default};
//# sourceMappingURL=index.modern.js.map
